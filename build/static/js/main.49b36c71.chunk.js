(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(t,e,n){t.exports=n(70)},42:function(t,e,n){},43:function(t,e,n){},70:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),r=n(33),i=n.n(r),c=(n(42),n(43),n(13));function l(){return a.a.createElement("div",{className:"header"},a.a.createElement(c.b,{to:"/"},a.a.createElement("i",{class:"fas fa-bookmark",id:"logo",style:{color:"red",marginTop:"2%"}})),a.a.createElement("h1",{style:{fontSize:"5vw",textDecoration:"underline",marginTop:"2%"}},"Derek's Bookshelf!"),a.a.createElement(c.b,{to:"./hello"},a.a.createElement("i",{className:"fas fa-bars",id:"menu-icon",style:{marginTop:"2%",color:"white"}})))}var s=n(16),u=n.n(s),d=n(20),h=n(7),m=n(8),k=n(10),p=n(9),g=n(15),f=n(11),b=n(3),v=n.n(b),E=n(17);var B=function(t){return a.a.createElement("button",{id:"add-random",onClick:t.addRandomBook},t.buttonText)},y=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(k.a)(this,Object(p.a)(e).call(this,t))).handleChange=function(t){var e=t.target,o=e.value,a=e.name;n.setState(Object(E.a)({},a,o))},n.handleClick=function(){if(""!==n.state.title&&""!==n.state.author&&""!==n.state.genre){var t=n.state;n.props.addBook(t),n.setState({title:"",author:"",genre:"",imageUrl:""})}},n.keyPressed=function(t){"Enter"===t.key&&n.handleClick()},n.state={title:"",author:"",genre:"",imageUrl:""},n}return Object(f.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"addBook"},a.a.createElement("h1",{style:{marginBottom:"5vh",paddingBottom:"8vh",fontSize:"1.8vw"}},"Total Books: ",this.props.bookCount),a.a.createElement("h1",{style:{marginBottom:"5%",fontSize:"3vw"}},"Add Book!"),a.a.createElement("input",{onKeyPress:this.keyPressed,className:"addBookInput",placeholder:"Title",type:"text",name:"title",value:this.state.title,onChange:this.handleChange}),a.a.createElement("input",{onKeyPress:this.keyPressed,className:"addBookInput",placeholder:"Author",type:"text",name:"author",value:this.state.author,onChange:this.handleChange}),a.a.createElement("input",{onKeyPress:this.keyPressed,className:"addBookInput",placeholder:"Genre",type:"text",name:"genre",value:this.state.genre,onChange:this.handleChange}),a.a.createElement("input",{onKeyPress:this.keyPressed,className:"addBookInput",placeholder:"Image URL",type:"text",name:"imageUrl",value:this.state.imageUrl,onChange:this.handleChange}),a.a.createElement("button",{onClick:this.handleClick},"Add!"),a.a.createElement("h5",{style:{marginBottom:".5%",marginTop:".5%"}},"or ",a.a.createElement("br",null),"Add A Random Bestseller"),a.a.createElement("div",null,a.a.createElement(B,{addRandomBook:this.props.addRandomFictionBook,buttonText:"Add Random Fiction Book"}),a.a.createElement(B,{addRandomBook:this.props.addRandomNonFictionBook,buttonText:"Add Random Non-Fiction Book"})))}}]),e}(o.Component),C=n(36),j=function(t){function e(t){var n;Object(h.a)(this,e),(n=Object(k.a)(this,Object(p.a)(e).call(this,t))).handleTitleChange=function(t){n.setState({title:t}),console.log(n.state)},n.handleAuthorChange=function(t){n.setState({author:t})},n.handleGenreChange=function(t){n.setState({genre:t})},n.handleClick=function(){var t=Object(C.a)({},n.props.book,n.state);n.props.updateBook(t)},n.updateForm=function(){n.handleClick(),n.props.toggleEdit()};var o=n.props.book,a=o.title,r=o.author,i=o.genre;return n.state={title:a,author:r,genre:i},n}return Object(f.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"editForm"},a.a.createElement("input",{type:"text",name:"title",value:this.state.title,placeholder:"title",onChange:function(e){return t.handleTitleChange(e.target.value)}}),a.a.createElement("input",{type:"text",name:"author",value:this.state.author,placeholder:"author",onChange:function(e){return t.handleAuthorChange(e.target.value)}}),a.a.createElement("input",{type:"text",name:"genre",value:this.state.genre,placeholder:"genre",onChange:function(e){return t.handleGenreChange(e.target.value)}}),a.a.createElement("div",null,a.a.createElement("button",{onClick:this.updateForm},"Update"),a.a.createElement("button",{onClick:this.props.toggleEdit},"Cancel")))}}]),e}(o.Component),O=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(k.a)(this,Object(p.a)(e).call(this,t))).toggleEdit=function(){n.setState({edit:!n.state.edit})},n.state={edit:!1},n}return Object(f.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this.props.book;return a.a.createElement("div",{className:"book"},a.a.createElement("h2",{style:{marginBottom:"15px"}},t.title),a.a.createElement("h3",{style:{marginBottom:"10px"}},t.author),a.a.createElement("h4",null,t.genre),a.a.createElement("img",{src:t.imageUrl,alt:"Book Cover",width:"200px",height:"300px"}),a.a.createElement("div",{className:"bookButtons"},this.state.edit?a.a.createElement(j,{book:t,toggleEdit:this.toggleEdit,updateBook:this.props.updateBook}):a.a.createElement("div",null,a.a.createElement("button",{onClick:this.toggleEdit},"Edit"),a.a.createElement("button",{onClick:this.props.deleteBook},"Delete"))))}}]),e}(o.Component);function F(t){return a.a.createElement("div",{style:{marginBottom:"15px"}},a.a.createElement("li",null,t.book.title,a.a.createElement("br",null),t.book.author))}var N=function(t){function e(){var t;return Object(h.a)(this,e),(t=Object(k.a)(this,Object(p.a)(e).call(this))).calculateTotalBooks=function(){var e=t.state.books.length;t.setState({bookCount:e})},t.addBook=function(e){v.a.post("/api/books",e).then(function(e){t.setState({books:e.data})}).catch(function(t){return console.log(t)})},t.updateBook=function(e){v.a.put("/api/books/".concat(e.id),e).then(function(e){t.setState({books:e.data})}).catch(function(t){return console.log(t)})},t.deleteBook=function(e){v.a.delete("./api/books/".concat(e)).then(function(e){t.setState({books:e.data})}).catch(function(t){return console.log(t)})},t.searchBook=function(e){v.a.get("./api/books/search/?title=".concat(e)).then(function(e){t.setState({books:e.data})}).catch(function(t){return console.log(t)})},t.toggleEdit=function(){t.setState({toggle:!t.state.toggle})},t.keyPressed=function(e){if("Enter"===e.key)if(!1===t.state.toggle){var n=t.state.search;t.searchBook(n),t.toggleEdit()}else!0===t.state.toggle&&(t.componentDidMount(),t.toggleEdit())},t.state={books:[],bookCount:0,search:"",toggle:!1,fictionBooks:[],nonFictionBooks:[]},t.addRandomFictionBook=t.addRandomFictionBook.bind(Object(g.a)(t)),t.addRandomNonFictionBook=t.addRandomNonFictionBook.bind(Object(g.a)(t)),t}return Object(f.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=this;v.a.get("/api/books").then(function(e){t.setState({books:e.data})}).catch(function(t){return console.log(t)}),v.a.get("https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=ltq5v5nWenzDUaX0TGpRNvO5IFkshMcH").then(function(e){t.setState({fictionBooks:e.data.results.books})}).catch(function(t){return console.log(t)}),v.a.get("https://api.nytimes.com/svc/books/v3/lists/current/hardcover-nonfiction.json?api-key=ltq5v5nWenzDUaX0TGpRNvO5IFkshMcH").then(function(e){t.setState({nonFictionBooks:e.data.results.books})}).catch(function(t){return console.log(t)})}},{key:"componentDidUpdate",value:function(t,e){e.books.length!==this.state.books.length&&this.calculateTotalBooks()}},{key:"addRandomFictionBook",value:function(){var t=Object(d.a)(u.a.mark(function t(){var e,n,o=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Math.floor(15*Math.random()),t.next=3,v.a.get("https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=ltq5v5nWenzDUaX0TGpRNvO5IFkshMcH").then(function(t){var o=t.data.results.books[e],a=o.title,r=o.author,i=o.book_image;n={title:a,author:r,imageUrl:i,genre:"Fiction"}}).catch(function(t){return console.log(t)});case 3:v.a.post("/api/books",n).then(function(t){o.setState({books:t.data})}).catch(function(t){return console.log(t)});case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"addRandomNonFictionBook",value:function(){var t=Object(d.a)(u.a.mark(function t(){var e,n,o=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Math.floor(15*Math.random()),t.next=3,v.a.get("https://api.nytimes.com/svc/books/v3/lists/current/hardcover-nonfiction.json?api-key=ltq5v5nWenzDUaX0TGpRNvO5IFkshMcH").then(function(t){var o=t.data.results.books[e],a=o.title,r=o.author,i=o.book_image;n={title:a,author:r,imageUrl:i,genre:"Non-Fiction"}}).catch(function(t){return console.log(t)});case 3:v.a.post("/api/books",n).then(function(t){o.setState({books:t.data})}).catch(function(t){return console.log(t)});case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"main"},a.a.createElement(y,{addBook:this.addBook,bookCount:this.state.bookCount,addRandomFictionBook:this.addRandomFictionBook,pageCount:this.state.pageCount,addRandomNonFictionBook:this.addRandomNonFictionBook}),a.a.createElement("div",{className:"displayBox"},a.a.createElement("div",null,a.a.createElement("input",{placeholder:"Search Titles",onChange:function(e){return t.setState({search:e.target.value})},onKeyPress:this.keyPressed}),this.state.toggle?a.a.createElement("button",{onClick:function(){t.componentDidMount(),t.toggleEdit()}},"Cancel"):a.a.createElement("button",{onClick:function(){var e=t.state.search;t.searchBook(e),t.toggleEdit()}},"Search")),this.state.books.map(function(e){return a.a.createElement(O,{key:e.id,book:e,updateBook:t.updateBook,deleteBook:function(){return t.deleteBook(e.id)}})})),a.a.createElement("section",{className:"right-side-display"},a.a.createElement("h1",{style:{marginBottom:"5%"}},"New York Times Bestsellers"),a.a.createElement("h2",{style:{marginBottom:"3%"}},"Fiction"),a.a.createElement("ol",null,this.state.fictionBooks.map(function(t){return a.a.createElement(F,{book:t})})),a.a.createElement("h2",{style:{marginBottom:"3%",marginTop:"10%"}},"Non-Fiction"),a.a.createElement("ol",null,this.state.nonFictionBooks.map(function(t){return a.a.createElement(F,{book:t})}))))}}]),e}(o.Component),x=n(12),R=function(t){function e(){return Object(h.a)(this,e),Object(k.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return a.a.createElement("h1",null,"Hello")}}]),e}(o.Component),S=a.a.createElement(x.c,null,a.a.createElement(x.a,{exact:!0,path:"/",component:N}),a.a.createElement(x.a,{path:"/hello",component:R}));var w=function(){return a.a.createElement(c.a,null,a.a.createElement("div",{className:"App"},a.a.createElement(l,null),S))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.49b36c71.chunk.js.map